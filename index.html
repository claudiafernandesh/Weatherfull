<!DOCTYPE html>
<html>
    
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>WEATHERFULL</title>
        <meta name="description" content="An interactive getting started guide for Brackets.">
        
        <!--Bootstrap files-->
        <link rel="stylesheet" href="css/bootstrap.min.css">

        
  </head>

    <body>
        
        
        
        
        <div class="row" style="background-color: #f39c12';">
            <h1 style="color: white;" class="text-center"> WEATHERFULL</h1>
        </div>
        
        <!-- Animation -->
        <div id="animation_block" class="text-center" style="margin-top: 50px;">
        <img width="200px;" id="animation_img" src="#"/>
        </div>

        <div class="container" style="margin-top: 20px;">

        <div class="starter-template text-center">
          <p class="lead"><strong id="current_temp"></strong> CÂº </p>
          <p class="lead"><strong id="current_humidity"></strong> % humidity. </p>
         
        </div>
        

        

    </div><!-- /.container --> 
        
        
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script type="text/javascript">
        // JS/Jquery code here
        $(document).ready(
//            var zipcode = "33134"
            $.getJSON("http://api.openweathermap.org/data/2.5/weather?zip= 33134",function(data){
                console.log(data.weather[0].id);
                
            
                
                // Temperature and background color
                var current_temp = (data.main.temp - 273.15).toFixed(1);
                $("#current_temp").text(current_temp);
                
                if (current_temp <= 10) {
                    $('body').css("background-color",'#aadce8');
                } 
                else if ( current_temp > 10 && current_temp <= 15) {
                    $('body').css("background-color",'#b2d544');
                } 
                else if ( current_temp > 15 && current_temp <= 20) {
                    $('body').css("background-color",'#fcf433');
                } 
                else if ( current_temp > 20 && current_temp <= 23) {
                    $('body').css("background-color",'#f39c12');
                } 
                else if ( current_temp > 23 && current_temp <= 26) {
                    $('body').css("background-color",'#f2bd53');
                } 
                else if ( current_temp > 26 && current_temp <= 30) {
                    $('body').css("background-color",'#ec0063');
                } 
                else if ( current_temp > 30) {
                    $('body').css("background-color",'#e74c3c');
                }
            
                var current_humidity = (data.main.humidity);
                $("#current_humidity").text(current_humidity);
                
                
                // Weather condition to svg animation
                var weather_id = Math.round((data.weather[0].id)/100);
                
                if(weather_id == 5){
                    $("#animation_img").attr('src',"media/storm.svg");
                }
                else if (weather_id == 8){
                    $("#animation_img").attr('src',"media/cloudy_day.svg");
                }
                
                else if (weather_id <= 3){
                    $("#animation_img").attr('src',"media/rain_1.svg");
                }
                
            })
        )
        
    </script>
</body>
    
</html>